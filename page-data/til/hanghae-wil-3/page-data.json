{"componentChunkName":"component---src-pages-markdown-remark-frontmatter-slug-tsx","path":"/til/hanghae-wil-3/","result":{"data":{"markdownRemark":{"html":"<h2>항해 플러스 백엔드 WIL - 3, 4주차 회고</h2>\n<p class=\"text-time\">최초 업로드 2025-08-03 / 마지막 수정 2025-08-03</p>\n<h2><strong><span class=\"text-skyblue\"> 3주차 피드백 </span></strong></h2>\n<p>1주차 때 bp를 받고 3주차 때 예기치 않은 fail을 받았다. fail은 당연히 안 받고 끝날 줄 알았는데 충격적이었다. 나는 코치님이 왜 fail을 주었는지 그 관점은 이해한다. 결국 계층 간의 깊은 고민이 느껴지지 않았다인데, 특히 application-service 코드가 지저분한 것은 사실이었다. 그리고 내가 더 잘 할 수 있음을 아셨기에 fail을 주었다고 생각했다. 많이 아쉽긴했다. 나름 고민이 많이 들어간 상태였고 convention과 unconvention 사이에서 어떻게 줄다리기를 해야할지 고민하며 3주차 코드 작성을 했기 때문이다. (심지어 연차쓰고 40~50시간 정도 사용함.)</p>\n<p>코치님께서 주신 피드백은 다음과 유사한 내용이었다:</p>\n<blockquote>\n<p><span class=\"text-purple\"><em>자고로 클린 아키텍처란 domain-service에 단일 도메인을 가두고 usecase에서는 여러 도메인을 조립해야한다. 그리고 usecase는 controller과 1대1 대응이 되는 것이 좋다.</em></span></p>\n</blockquote>\n<p>나는 매우 비동의하는 부분이 많았다. 일단 내 과제가 fail된 이유는 application service에 facade도 있어야하고 뭐가 많았기 때문인데, 그렇다면 domain-service로 그걸 내려봤자 domain-service에서도 똑같이 내부 계층을 가지고 있어야 순환참조가 발생하지 않는다.</p>\n<p>그래서 4주차 과제에서는 나는 코치님의 피드백을 진심으로 해결하려면 (순환참조 문제) 코치님이 제안하신 솔루션도 그리 좋은 솔루션은 아니라고 생각했다. 결국 어디 계층엔가는 다계층이 생길 수 밖에 없어보였다. 그리고 그 네이밍은 프로젝트마다 조금씩 사용처가 달라서 헷갈리기만 한다. Facade, service, orchestrator, usecase 이거 모두 결국 똑같은 이야기를 하는건데 조금씩 뉘앙스차이가 있고 프로젝트마다 정확히 어떻게 저 용어를 쓰는지는 조금씩 다르다. 이 답답함을 해소하고자 이번주 여행을 가면서 고민을 조금했었다.</p>\n<p>다낭으로 향하는 비행기에 탑승하고 한 시간 정도 고민했을 때 떠오른 것은 tiered arhictecture이었다. 예전에 db 시딩할 때 foreign key constraint 유지하면서 시딩하고 싶어서 티어로 순서를 나누었던 기억이 났다. 이거랑 유사하게 가야한다고 생각했고 usecase 계층을 여러개로 나누기로 했다. 그리하여 아래와 같은 아키텍처를 만들었다. 이제 Facade, service, orchestrator, usecase 이런 용어들을 어떻게 조합해서 순환참조를 해결하지?라고 고민할 시간에 무지성으로 무조건 하위 티어만 import 가능하면 끝이 되도록하면 되었다.</p>\n<p><svg aria-roledescription=\"flowchart-v2\" role=\"graphics-document document\" viewBox=\"0 0 1135.66796875 786\" style=\"max-width: 1135.66796875px;\" class=\"flowchart\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" id=\"mermaid-0\"><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#ccc;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-0 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-0 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-0 .error-icon{fill:#a44141;}#mermaid-0 .error-text{fill:#ddd;stroke:#ddd;}#mermaid-0 .edge-thickness-normal{stroke-width:1px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:lightgrey;stroke:lightgrey;}#mermaid-0 .marker.cross{stroke:lightgrey;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 p{margin:0;}#mermaid-0 .label{font-family:arial,sans-serif;color:#ccc;}#mermaid-0 .cluster-label text{fill:#F9FFFE;}#mermaid-0 .cluster-label span{color:#F9FFFE;}#mermaid-0 .cluster-label span p{background-color:transparent;}#mermaid-0 .label text,#mermaid-0 span{fill:#ccc;color:#ccc;}#mermaid-0 .node rect,#mermaid-0 .node circle,#mermaid-0 .node ellipse,#mermaid-0 .node polygon,#mermaid-0 .node path{fill:#1f2020;stroke:#ccc;stroke-width:1px;}#mermaid-0 .rough-node .label text,#mermaid-0 .node .label text,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-anchor:middle;}#mermaid-0 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-0 .rough-node .label,#mermaid-0 .node .label,#mermaid-0 .image-shape .label,#mermaid-0 .icon-shape .label{text-align:center;}#mermaid-0 .node.clickable{cursor:pointer;}#mermaid-0 .root .anchor path{fill:lightgrey!important;stroke-width:0;stroke:lightgrey;}#mermaid-0 .arrowheadPath{fill:lightgrey;}#mermaid-0 .edgePath .path{stroke:lightgrey;stroke-width:2.0px;}#mermaid-0 .flowchart-link{stroke:lightgrey;fill:none;}#mermaid-0 .edgeLabel{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-0 .edgeLabel p{background-color:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .edgeLabel rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .labelBkg{background-color:rgba(87.75, 87.75, 87.75, 0.5);}#mermaid-0 .cluster rect{fill:hsl(180, 1.5873015873%, 28.3529411765%);stroke:rgba(255, 255, 255, 0.25);stroke-width:1px;}#mermaid-0 .cluster text{fill:#F9FFFE;}#mermaid-0 .cluster span{color:#F9FFFE;}#mermaid-0 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:arial,sans-serif;font-size:12px;background:hsl(20, 1.5873015873%, 12.3529411765%);border:1px solid rgba(255, 255, 255, 0.25);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-0 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#ccc;}#mermaid-0 rect.text{fill:none;stroke-width:0;}#mermaid-0 .icon-shape,#mermaid-0 .image-shape{background-color:hsl(0, 0%, 34.4117647059%);text-align:center;}#mermaid-0 .icon-shape p,#mermaid-0 .image-shape p{background-color:hsl(0, 0%, 34.4117647059%);padding:2px;}#mermaid-0 .icon-shape rect,#mermaid-0 .image-shape rect{opacity:0.5;background-color:hsl(0, 0%, 34.4117647059%);fill:hsl(0, 0%, 34.4117647059%);}#mermaid-0 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-0 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}#mermaid-0 .controller>*{fill:#333!important;stroke:#01579b!important;stroke-width:2px!important;}#mermaid-0 .controller span{fill:#333!important;stroke:#01579b!important;stroke-width:2px!important;}#mermaid-0 .tier3>*{fill:#333!important;stroke:#e65100!important;stroke-width:2px!important;}#mermaid-0 .tier3 span{fill:#333!important;stroke:#e65100!important;stroke-width:2px!important;}#mermaid-0 .tier2>*{fill:#333!important;stroke:#4a148c!important;stroke-width:2px!important;}#mermaid-0 .tier2 span{fill:#333!important;stroke:#4a148c!important;stroke-width:2px!important;}#mermaid-0 .tier1>*{fill:#333!important;stroke:#1b5e20!important;stroke-width:2px!important;}#mermaid-0 .tier1 span{fill:#333!important;stroke:#1b5e20!important;stroke-width:2px!important;}#mermaid-0 .service>*{fill:#333!important;stroke:#ff6f00!important;stroke-width:2px!important;}#mermaid-0 .service span{fill:#333!important;stroke:#ff6f00!important;stroke-width:2px!important;}#mermaid-0 .repo>*{fill:#333!important;stroke:#880e4f!important;stroke-width:2px!important;}#mermaid-0 .repo span{fill:#333!important;stroke:#880e4f!important;stroke-width:2px!important;}</style><g><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-pointEnd\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 0 L 10 5 L 0 10 z\"></path></marker><marker orient=\"auto\" markerHeight=\"8\" markerWidth=\"8\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"4.5\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-pointStart\"><path style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 0 5 L 10 10 L 10 0 z\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"11\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-circleEnd\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5\" refX=\"-1\" viewBox=\"0 0 10 10\" class=\"marker flowchart-v2\" id=\"mermaid-0_flowchart-v2-circleStart\"><circle style=\"stroke-width: 1; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" r=\"5\" cy=\"5\" cx=\"5\"></circle></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"12\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-0_flowchart-v2-crossEnd\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><marker orient=\"auto\" markerHeight=\"11\" markerWidth=\"11\" markerUnits=\"userSpaceOnUse\" refY=\"5.2\" refX=\"-1\" viewBox=\"0 0 11 11\" class=\"marker cross flowchart-v2\" id=\"mermaid-0_flowchart-v2-crossStart\"><path style=\"stroke-width: 2; stroke-dasharray: 1, 0;\" class=\"arrowMarkerPath\" d=\"M 1,1 l 9,9 M 10,1 l -9,9\"></path></marker><g class=\"root\"><g class=\"clusters\"><g data-look=\"classic\" id=\"subGraph5\" class=\"cluster\"><rect height=\"104\" width=\"1062.640625\" y=\"674\" x=\"24.140625\" style=\"\"></rect><g transform=\"translate(505.65625, 674)\" class=\"cluster-label\"><foreignObject height=\"24\" width=\"99.609375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Domain Layer</p></span></div></foreignObject></g></g><g data-look=\"classic\" id=\"subGraph4\" class=\"cluster\"><rect height=\"462\" width=\"1119.66796875\" y=\"162\" x=\"8\" style=\"\"></rect><g transform=\"translate(467.833984375, 162)\" class=\"cluster-label\"><foreignObject height=\"48\" width=\"200\"><div style=\"display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Application Layer (UseCases)</p></span></div></foreignObject></g></g><g data-look=\"classic\" id=\"subGraph0\" class=\"cluster\"><rect height=\"104\" width=\"882.84375\" y=\"8\" x=\"52.30078125\" style=\"\"></rect><g transform=\"translate(426.56640625, 8)\" class=\"cluster-label\"><foreignObject height=\"24\" width=\"134.3125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Presentation Layer</p></span></div></foreignObject></g></g><g data-look=\"classic\" id=\"Tier-1(in-domain)\" class=\"cluster\"><rect height=\"104\" width=\"1060.703125\" y=\"495\" x=\"28\" style=\"\"></rect><g transform=\"translate(497.296875, 495)\" class=\"cluster-label\"><foreignObject height=\"24\" width=\"122.109375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Tier-1(in-domain)</p></span></div></foreignObject></g></g><g data-look=\"classic\" id=\"Tier-2\" class=\"cluster\"><rect height=\"104\" width=\"895.8984375\" y=\"341\" x=\"152.3671875\" style=\"\"></rect><g transform=\"translate(579.72265625, 341)\" class=\"cluster-label\"><foreignObject height=\"24\" width=\"41.1875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Tier-2</p></span></div></foreignObject></g></g><g data-look=\"classic\" id=\"Tier-3\" class=\"cluster\"><rect height=\"104\" width=\"276.734375\" y=\"187\" x=\"236.9609375\" style=\"\"></rect><g transform=\"translate(354.734375, 187)\" class=\"cluster-label\"><foreignObject height=\"24\" width=\"41.1875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>Tier-3</p></span></div></foreignObject></g></g></g><g class=\"edgePaths\"><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_Order_Controller_T3_PlaceOrder_0\" d=\"M335.124,87L341.825,91.167C348.525,95.333,361.927,103.667,368.627,112C375.328,120.333,375.328,128.667,375.328,137C375.328,145.333,375.328,153.667,375.328,162C375.328,170.333,375.328,178.667,375.328,186.333C375.328,194,375.328,201,375.328,204.5L375.328,208\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_User_Controller_T2_CreateUserWithWallet_0\" d=\"M818.574,87L818.574,91.167C818.574,95.333,818.574,103.667,818.574,112C818.574,120.333,818.574,128.667,818.574,137C818.574,145.333,818.574,153.667,818.574,162C818.574,170.333,818.574,178.667,818.574,191.5C818.574,204.333,818.574,221.667,818.574,239C818.574,256.333,818.574,273.667,818.574,286.5C818.574,299.333,818.574,307.667,818.574,316C818.574,324.333,818.574,332.667,818.574,340.333C818.574,348,818.574,355,818.574,358.5L818.574,362\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_Order_Controller_T1_UsePoints_0\" d=\"M208.971,87L196.204,91.167C183.436,95.333,157.902,103.667,145.134,112C132.367,120.333,132.367,128.667,132.367,137C132.367,145.333,132.367,153.667,132.367,162C132.367,170.333,132.367,178.667,132.367,191.5C132.367,204.333,132.367,221.667,132.367,239C132.367,256.333,132.367,273.667,132.367,286.5C132.367,299.333,132.367,307.667,132.367,316C132.367,324.333,132.367,332.667,132.367,345.5C132.367,358.333,132.367,375.667,132.367,393C132.367,410.333,132.367,427.667,132.367,440.5C132.367,453.333,132.367,461.667,132.367,470C132.367,478.333,132.367,486.667,134.438,494.423C136.509,502.178,140.65,509.357,142.721,512.946L144.791,516.535\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T3_PlaceOrder_T2_ProcessOrder_0\" d=\"M375.328,266L375.328,270.167C375.328,274.333,375.328,282.667,375.328,291C375.328,299.333,375.328,307.667,375.328,316C375.328,324.333,375.328,332.667,375.328,340.333C375.328,348,375.328,355,375.328,358.5L375.328,362\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T2_ProcessOrder_T1_CreateOrder_0\" d=\"M399.063,420L402.725,424.167C406.388,428.333,413.714,436.667,417.376,445C421.039,453.333,421.039,461.667,421.039,470C421.039,478.333,421.039,486.667,421.039,494.333C421.039,502,421.039,509,421.039,512.5L421.039,516\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T2_ProcessOrder_T1_UsePoints_0\" d=\"M308.173,420L297.809,424.167C287.446,428.333,266.719,436.667,256.356,445C245.992,453.333,245.992,461.667,245.992,470C245.992,478.333,245.992,486.667,239.858,494.648C233.723,502.629,221.454,510.259,215.319,514.073L209.185,517.888\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T2_CreateUserWithWallet_T1_CreateUser_0\" d=\"M886.762,420L897.285,424.167C907.807,428.333,928.853,436.667,939.376,445C949.898,453.333,949.898,461.667,949.898,470C949.898,478.333,949.898,486.667,949.898,494.333C949.898,502,949.898,509,949.898,512.5L949.898,516\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T2_CreateUserWithWallet_T1_CreateWallet_0\" d=\"M750.387,420L739.864,424.167C729.341,428.333,708.296,436.667,697.773,445C687.25,453.333,687.25,461.667,687.25,470C687.25,478.333,687.25,486.667,687.25,494.333C687.25,502,687.25,509,687.25,512.5L687.25,516\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T1_CreateOrder_DS_ValidateOrder_0\" d=\"M421.039,574L421.039,578.167C421.039,582.333,421.039,590.667,421.039,599C421.039,607.333,421.039,615.667,421.039,624C421.039,632.333,421.039,640.667,421.039,649C421.039,657.333,421.039,665.667,421.039,673.333C421.039,681,421.039,688,421.039,691.5L421.039,695\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T1_UsePoints_DS_ValidatePoint_0\" d=\"M162.367,574L162.367,578.167C162.367,582.333,162.367,590.667,162.367,599C162.367,607.333,162.367,615.667,162.367,624C162.367,632.333,162.367,640.667,162.367,649C162.367,657.333,162.367,665.667,162.367,673.333C162.367,681,162.367,688,162.367,691.5L162.367,695\"></path><path marker-end=\"url(#mermaid-0_flowchart-v2-pointEnd)\" style=\"\" class=\"edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link\" id=\"L_T1_CreateUser_DS_ValidateUser_0\" d=\"M949.898,574L949.898,578.167C949.898,582.333,949.898,590.667,949.898,599C949.898,607.333,949.898,615.667,949.898,624C949.898,632.333,949.898,640.667,949.898,649C949.898,657.333,949.898,665.667,949.898,673.333C949.898,681,949.898,688,949.898,691.5L949.898,695\"></path></g><g class=\"edgeLabels\"><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g><g class=\"edgeLabel\"><g transform=\"translate(0, 0)\" class=\"label\"><foreignObject height=\"0\" width=\"0\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" class=\"labelBkg\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"edgeLabel\"></span></div></foreignObject></g></g></g><g class=\"nodes\"><g transform=\"translate(291.703125, 60)\" id=\"flowchart-Order_Controller-0\" class=\"node default\"><rect height=\"54\" width=\"170.265625\" y=\"-27\" x=\"-85.1328125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-55.1328125, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"110.265625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>OrderController</p></span></div></foreignObject></g></g><g transform=\"translate(818.57421875, 60)\" id=\"flowchart-User_Controller-1\" class=\"node default\"><rect height=\"54\" width=\"163.140625\" y=\"-27\" x=\"-81.5703125\" style=\"\" class=\"basic label-container\"></rect><g transform=\"translate(-51.5703125, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"103.140625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>UserController</p></span></div></foreignObject></g></g><g transform=\"translate(375.328125, 239)\" id=\"flowchart-T3_PlaceOrder-2\" class=\"node default tier3\"><rect height=\"54\" width=\"206.734375\" y=\"-27\" x=\"-103.3671875\" style=\"fill:#333 !important;stroke:#e65100 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-73.3671875, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"146.734375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>PlaceOrderUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(375.328125, 393)\" id=\"flowchart-T2_ProcessOrder-3\" class=\"node default tier2\"><rect height=\"54\" width=\"224.5\" y=\"-27\" x=\"-112.25\" style=\"fill:#333 !important;stroke:#4a148c !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-82.25, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"164.5\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>ProcessOrderUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(818.57421875, 393)\" id=\"flowchart-T2_CreateUserWithWallet-4\" class=\"node default tier2\"><rect height=\"54\" width=\"283.46875\" y=\"-27\" x=\"-141.734375\" style=\"fill:#333 !important;stroke:#4a148c !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-111.734375, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"223.46875\"><div style=\"display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>CreateUserWithWalletUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(421.0390625, 547)\" id=\"flowchart-T1_CreateOrder-5\" class=\"node default tier1\"><rect height=\"54\" width=\"214.734375\" y=\"-27\" x=\"-107.3671875\" style=\"fill:#333 !important;stroke:#1b5e20 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-77.3671875, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"154.734375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>CreateOrderUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(162.3671875, 547)\" id=\"flowchart-T1_UsePoints-6\" class=\"node default tier1\"><rect height=\"54\" width=\"198.734375\" y=\"-27\" x=\"-99.3671875\" style=\"fill:#333 !important;stroke:#1b5e20 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-69.3671875, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"138.734375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>UsePointsUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(949.8984375, 547)\" id=\"flowchart-T1_CreateUser-7\" class=\"node default tier1\"><rect height=\"54\" width=\"207.609375\" y=\"-27\" x=\"-103.8046875\" style=\"fill:#333 !important;stroke:#1b5e20 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-73.8046875, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"147.609375\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>CreateUserUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(687.25, 547)\" id=\"flowchart-T1_CreateWallet-8\" class=\"node default tier1\"><rect height=\"54\" width=\"217.6875\" y=\"-27\" x=\"-108.84375\" style=\"fill:#333 !important;stroke:#1b5e20 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-78.84375, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"157.6875\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>CreateWalletUseCase</p></span></div></foreignObject></g></g><g transform=\"translate(421.0390625, 726)\" id=\"flowchart-DS_ValidateOrder-9\" class=\"node default service\"><rect height=\"54\" width=\"210.890625\" y=\"-27\" x=\"-105.4453125\" style=\"fill:#333 !important;stroke:#ff6f00 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-75.4453125, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"150.890625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>ValidateOrderService</p></span></div></foreignObject></g></g><g transform=\"translate(949.8984375, 726)\" id=\"flowchart-DS_ValidateUser-10\" class=\"node default service\"><rect height=\"54\" width=\"203.765625\" y=\"-27\" x=\"-101.8828125\" style=\"fill:#333 !important;stroke:#ff6f00 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-71.8828125, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"143.765625\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>ValidateUserService</p></span></div></foreignObject></g></g><g transform=\"translate(162.3671875, 726)\" id=\"flowchart-DS_ValidatePoint-11\" class=\"node default service\"><rect height=\"54\" width=\"206.453125\" y=\"-27\" x=\"-103.2265625\" style=\"fill:#333 !important;stroke:#ff6f00 !important;stroke-width:2px !important\" class=\"basic label-container\"></rect><g transform=\"translate(-73.2265625, -12)\" style=\"\" class=\"label\"><rect></rect><foreignObject height=\"24\" width=\"146.453125\"><div style=\"display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;\" xmlns=\"http://www.w3.org/1999/xhtml\"><span class=\"nodeLabel\"><p>ValidatePointService</p></span></div></foreignObject></g></g></g></g></g></svg></p>\n<h4>규칙 설명 (README 발췌)</h4>\n<ul>\n<li>상위 티어는 하위티어만 import할 수 있도록 eslint를 설정해두었습니다.</li>\n<li>presentation 레이어에서는 티어 상관없이 바로 가져다가 사용할 수 있습니다.</li>\n<li>티어는 무한히 쌓을 수 있습니다.</li>\n<li>아래 완화책에 나온 것처럼 여러 장치를 마련해서 티어들에 추가적인 규칙을 부여할 수 있습니다.</li>\n<li>위 그림에서는 tier 1은 동일 도메인 내의 도메인 서비스만 import 가능합니다.</li>\n</ul>\n<p>위 설명에 대한 더 자세한 3주차 마무리의 상태는 - 해당 커밋 히스토리의 스냅샷으로 볼 수 있다: <a href=\"https://github.com/seho0808/hh-9-be-2/tree/0bb29ddb7477467bb60060aa22f9fd43dcf9b467\">#</a></p>\n<br/>\n<h2><strong><span class=\"text-skyblue\"> 4주차 피드백 </span></strong></h2>\n<p>내가 4주차 때 만든 것은 한 번도 보지 못한 아키텍처이었고 구글에 검색해봐도 나랑 비슷하게 구조를 짠 예시가 없어서 살짝 도박이라고 느꼈다. 하지만 다행히도 4주차에서 bp를 받을 수 있었다. 과제 fail 받는거 두려워서 정해진 길을 가는 것 보다 최대한 많이 배우고 시도해보고자 하는 마음이 컸다. 음... 이번주에도 tier중 하나를 orchestrator로 하면 어떻겠냐는 피드백을 받았는데, 나는 아직 orchestrator로 하는 것보다 tier로 퉁치는게 나아보이긴한다. usecase라는 것이 외부에 노출도 되어야하고 조립도 되어야하는 개체이면 그냥 모두 usecase라고 명명하는게 좋아보인다.</p>\n<p>이번주(5주차)는 트랜잭션과 단일 db lock에 대한 동시성 관리를 고민하는 찹터이다. 매 주차 완벽하게 해내려하기보다 핵심적인 개념들을 잘 이해하는 것에 집중하자. 어차피 과정 끝나고 각 찹터 1주일씩했던 것들 모두 2달씩은 보충해서 20개월은 추가로 최소한 공부해야 아주 기본적인 것들을 이해할 수 있어보인다.</p>","frontmatter":{"date":"August 03, 2025","slug":"/til/hanghae-wil-3","title":"항해 플러스 백엔드 WIL 3, 4 - 3, 4주차 회고","subtitle":"항해에서 느껴본 점을 적어보자"}}},"pageContext":{"id":"79539ec5-0411-5ac7-af4f-238ddd0dd82e","frontmatter__slug":"/til/hanghae-wil-3","__params":{"frontmatter__slug":"til"}}},"staticQueryHashes":["1865044719","2228436175","326441978"],"slicesMap":{}}